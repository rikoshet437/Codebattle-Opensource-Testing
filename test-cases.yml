---
- summary: |
    Проверка регистрации нового пользователя
  requirement: |
    У пользователя должна быть возможность зарегистрироваться и авторизоваться в системе
  prerequisites:
    Нет зарегистрированного пользователя с тем же email
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    no required
  steps:
    - Нажать кнопку "Sign up"
    - Ввести в поля формы корректные данные (никнейм, email, пароль)
    - Нажать кнопку "Sumbit".
  expected-result: |
    Пользователь успешно зарегистрирован и перенаправлен на главную страницу

- summary: |
    Проверка авторизиции существующего пользователся
  requirement: |
    У пользователя должна быть возможность зарегистрироваться и авторизоваться в системе
  prerequisites:
    Пользователь уже зарегистрирован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Sign in"
    - Ввести в поля формы корректные данные (email, пароль)
    - Нажать кнопку "Sumbit".
  expected-result: |
    Пользователь успешно авторизован и перенаправлен на главную страницу
    
- summary: | 
    Проверка авторизиции через GitHub
  requirement: |
    Должна быть возможность авторизации через GitHub
  prerequisites:
    Пользователь не зарегистрирован на сайте
    Пользователь авторизован на Github
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    no required
  steps:
    - Нажать кнопку "Sign up"
    - Нажать кнопку "Sign up with GitHub"
    - Подтвердить авторизацию.
  expected-result: |
    Пользователь успешно авторизован и перенаправлен на главную страницу

- summary: | 
    Проверка возможности создания игры с ботом
  requirement: |
    Должна быть возможность создать игру как с ботом, так и с другими игроками
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать тип игры (Game Type) - с ботом (With a bot)
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
  expected-result: |
    Начинается игра с ботом по выбраному заданию

- summary: | 
    Проверка возможности создания игры с другими игроками
  requirement: |
    Должна быть возможность создать игру как с ботом, так и с другими игроками
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать тип игры (Game Type) - с другим игроком (With another user)
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
  expected-result: |
    Откроется лобби с выбранным заданием, с возможностью подключения другого игрок

- summary: | 
    Проверка возможности создания Приватной игры
  requirement: |
    Должна быть возможность создать как приватную игру с конкретным игроком, так и публичную
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать тип игры (Game Type) - с другом (With a friend)
    - Выбрать в выпадающем списке противника (или ввести имя вручную)
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
    - Дождаться принятия приглашения соперником
  expected-result: |
    Начниется игра с выбранным заданием, с пользователем которому отправили приглашение.

- summary: | 
    Проверка возможности присоединения к открытой игре
  requirement: |
    Должна быть возможность присоедениться к открытой игре
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Lobby"
    - Выбрать любую игру
    - Нажать кнопку "Fight"
  expected-result: |
    Начниется игра по выбранному заданиею с пользователем, открывшим лобби.

- summary: | 
    Проверка соответствия задания у игроков
  requirement: |
    Оба игрока должны получать одинаковое задание.
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать любой тип игры
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
    - Проверить задание соперника на соответствие нашему.
  expected-result: |
    Оба соперника получили одинаковое задание.

- summary: | 
    Проверка возможности переключения языка в задании
  requirement: |
    Задания должны даваться на двух языках - русском и английском
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать любой тип игры
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
    - После начала игры нажать кнопку смены языка и выбрать русский.
  expected-result: |
    Описание задания изменилось на русский язык.

- summary: | 
    Проверка правильности работы автотестов
  requirement: |
    Решение задания должно быть представлено в виде кода.
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать тип игры - с ботом
    - Выбрать низкий уровень сложности
    - Выбрать задание "rect_area"
    - Нажать кнопку "Create battle"
    - Ввести значение "A=wl"
    - Нажать кнопку проверки
  expected-result: |
    Автотесты вернут ошибку, решение не подходит.

- summary: | 
    Проверка возможности видеть процесс написания кода противником
  requirement: |
    Во время игры игроки должны видеть процесс написания кода соперником в реальном времени.
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать любой тип игры
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
    - Подождать и следить за экраном с кодом противника
  expected-result: |
     Процесс написания кода противником выден и отображается в реальном времени.

- summary: | 
    Проверка правильности присвоения победы
  requirement: |
    Победителем считается первый игрок, решение которого удовлетворило автотесты.
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать любой тип игры
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
    - Завершить задания быстрее противника
  expected-result: |
     Победа присваивается корректно, начисляются очки рейтинга за победу.

- summary: | 
    Проверка правильности присвоения ничьи
  requirement: |
    Если оба игрока не справляются с задачей в установленное время -  игра завершается ничьей
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать тип игры - с другом или открытый
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
    - Дождаться завершения таймера у обоих игроков
  expected-result: |
     Игра закинчивается ньчей, очки рейтинга не начисляюьтся никому

- summary: | 
    Проверка возможности просмотра записей матчей
  requirement: |
    Завершенные игры должны быть доступны в записи
  prerequisites:
    Пользователь авторизован на сайте
    Есть хотя бы одна завершенная игра
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать на кнопку с именем пользователя в шапке сайта
    - Нажать кнопку "Мой профиль" (My profile)
    - Нажать кнопку "Завершенные игры" (Completed games)
    - Выбрать любую игру и нажать кнопку "Show"
  expected-result: |
     Открывается проигрыватель и воспроизводится запись матча.

- summary: | 
    Проверка работы таблицы лидеров
  requirement: |
    На основе рейтинга должна составляться таблица лидеров с разными временными отрезками (неделя, месяц, за все время)
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать на кнопку с именем пользователя в шапке сайта
    - Нажать кнопку "Рейтинг пользователей" (Users raiting)
    - Нажать на кнопки выбора различных категорий (неделя, месяц, за все время)
  expected-result: |
     Открывается таблица лидеров за выбраный период, при переключении периода таблица выбирает соответствующую категорию

- summary: | 
    Проверка работы внутриигрового чата
  requirement: |
    Во время игры должна быть возможность общаться с соперником и зрителями в чате
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать тип игры - с другом или открытый
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
    - Нажать на поле чата
    - Ввести любое сообщение и отправить
  expected-result: |
     Сообщение отображается в чате, задержка между отправкой и отображение минимальная.

- summary: | 
    Проверка кроссбраузерности сайта
  requirement: |
    Сайт должен быть протестирован на совместимость с последними версиями браузеров
  prerequisites:
    Пользователь авторизован на сайте
    Установлены браузеры Firefox, Safari, Chrome
    Открыт браузер Chrome
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Проверить отображение элементов интерфейса на главное странице
    - Нажать кнопку "Create a game"
    - Перейти на вкладку Tournaments и проверить отображение.
    - Перейти на вкладку History и проверить отображение истории.
    - Проверить весь функционал меню который всплывает при нажатии на иконку пользователя.
    - Создать новую игру с ботом и проверить отображение и работоспосбность матча с возможностью его завершения.
    - Повторить шаги 1-6 для браузеров Firefox и Safari.
  expected-result: |
     Сайт работает корректно на всех указаных браузерах, отсутствуют ошибки с отображением и функционалом

- summary: | 
    Провекрка отображения сайта на мобильных устройствах
  requirement: |
    Сайт должен быть удобным на мобильном устройстве
  prerequisites:
    Пользователь авторизован на сайте
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    email: example@google.com
    password: examplepass123
  steps:
    - Нажать клавишу "F12" и открыть DevTools
    - В поле выбора устройства выбрать любое мобильное устройство, например iPhone 12 Pro
    - Нажать кнопку "Create a game"
    - Выбрать любой уровень сложности
    - Выбрать любой тип игры
    - Выбрать любое задание
    - Нажать кнопку "Create battle"
  expected-result: |
     Сайт работает корректно на мобильных устройствах, весь функционал работает корректно, отстутствуют ошибки верстки.
